<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lista Ch√° Casa Nova</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background:#f4f4f4; }
#splash { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#000; z-index:9999; animation:fadeOut 1s ease 4s forwards; }
#splash img { width:180px; animation:spin 4s linear infinite; }
@keyframes spin { from{transform:rotate(0);} to{transform:rotate(360deg);} }
@keyframes fadeOut { to{opacity:0; visibility:hidden;} }
header { background:#fff; padding:15px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 5px #0002; position:sticky; top:0; z-index:999; }
#loginBtn { padding:5px 10px; font-size:12px; cursor:pointer; background:#111; color:#fff; border-radius:5px; }
#items { padding:20px; display:grid; grid-template-columns:repeat(auto-fit,minmax(270px,1fr)); gap:15px; }
.card { background:#fff; padding:15px; border-radius:10px; box-shadow:0 2px 5px #0003; cursor:pointer; }
.emojiBox { width:48px; height:48px; background:#eee; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:24px; margin-bottom:10px; }
.qty { font-weight:bold; }
.adminControls { display:flex; gap:5px; margin-top:10px; }
.adminBtn { padding:3px 8px; cursor:pointer; background:#000; color:#fff; border-radius:5px; font-size:12px; }
.modalBg { position:fixed; inset:0; background:#0007; display:none; align-items:center; justify-content:center; z-index:9999; }
.modal { background:#fff; padding:20px; width:300px; border-radius:10px; }
.modal input { width:100%; padding:8px; margin-bottom:10px; }
</style>
</head>
<body>
<div id="splash"><img src="logo.png" /></div>
<header>
<h2>Lista Ch√° Casa Nova</h2>
<button id="loginBtn">Login</button>
</header>
<div id="items"></div>

<!-- Modal Login -->
<div class="modalBg" id="loginModal">
  <div class="modal">
    <h3>Login</h3>
    <input id="loginUser" placeholder="Usu√°rio" />
    <input id="loginPass" type="password" placeholder="Senha" />
    <button onclick="doLogin()">Entrar</button>
  </div>
</div>

<!-- Modal Reserva -->
<div class="modalBg" id="reserveModal">
  <div class="modal">
    <h3 id="reserveTitle"></h3>
    <input id="resName" placeholder="Seu nome" />
    <input id="resTel" placeholder="Telefone" />
    <input id="resEnd" placeholder="Endere√ßo" />
    <button onclick="confirmReserve()">Confirmar</button>
  </div>
</div>

<script>
const TELEGRAM_TOKEN = "8559140827:AAHxA4d-MvDH-BanHYymnK2UKLRWM3KJrec";
const TELEGRAM_CHAT_ID = "-1003451773752";

let admin = false;
let currentItem = null;

const items = [
 {cat:"Cozinha",name:"Jogo de copo",qty:3,emoji:"ü•§",res:[]},
 {cat:"Cozinha",name:"Jogo de talher (preto ou rose)",qty:3,emoji:"üç¥",res:[]},
 {cat:"Cozinha",name:"Toalha de mesa",qty:1,emoji:"üß∫",res:[]},
 {cat:"Cozinha",name:"Pano de prato",qty:3,emoji:"üßΩ",res:[]},
 {cat:"Cozinha",name:"Kit pia (preto ou rose)",qty:1,emoji:"üö∞",res:[]},
 {cat:"Cozinha",name:"Lixeira de cozinha (preta)",qty:1,emoji:"üóëÔ∏è",res:[]},
 {cat:"Cozinha",name:"Panela grande",qty:1,emoji:"üç≥",res:[]},
 {cat:"Cozinha",name:"Panela m√©dia",qty:1,emoji:"üç≥",res:[]},
 {cat:"Cozinha",name:"Panela pequena",qty:1,emoji:"üç≥",res:[]},
 {cat:"Cozinha",name:"Kit peneiras",qty:1,emoji:"üßÇ",res:[]},
 {cat:"Cozinha",name:"3 kit potes",qty:3,emoji:"ü•°",res:[]},
 {cat:"Cozinha",name:"Porta temperos",qty:1,emoji:"üå∂Ô∏è",res:[]},
 {cat:"Cozinha",name:"Jarra el√©trica (preta)",qty:1,emoji:"‚ö°",res:[]},
 {cat:"Cozinha",name:"Panela de press√£o",qty:1,emoji:"üî•",res:[]},
 {cat:"Cozinha",name:"T√°bua de carne",qty:1,emoji:"üî™",res:[]},
 {cat:"Cozinha",name:"Kit mantimentos",qty:1,emoji:"üõçÔ∏è",res:[]},
 {cat:"Cozinha",name:"Tigelas de sobremesa (vidro)",qty:3,emoji:"üç®",res:[]},
 {cat:"Cozinha",name:"Puxa saco",qty:1,emoji:"üõçÔ∏è",res:[]},
 {cat:"Cozinha",name:"Pratos fundo (branco)",qty:6,emoji:"üçΩÔ∏è",res:[]},
 {cat:"Cozinha",name:"Forma de alum√≠nio",qty:1,emoji:"üßÅ",res:[]},
 {cat:"Cozinha",name:"Forma de pudim",qty:1,emoji:"üçÆ",res:[]},
 {cat:"Cozinha",name:"Canecas",qty:4,emoji:"‚òï",res:[]},
 {cat:"Cozinha",name:"Fervedor",qty:1,emoji:"üç≤",res:[]},

 {cat:"Banheiro",name:"Toalha de rosto",qty:2,emoji:"üßª",res:[]},
 {cat:"Banheiro",name:"Toalha de banho",qty:2,emoji:"üõÅ",res:[]},
 {cat:"Banheiro",name:"Cortina para box",qty:1,emoji:"üöø",res:[]},
 {cat:"Banheiro",name:"Kit tapete de banheiro",qty:1,emoji:"üßº",res:[]},
 {cat:"Banheiro",name:"Cesto de roupa",qty:1,emoji:"üß∫",res:[]},

 {cat:"Quarto",name:"Jogo de len√ßol casal",qty:1,emoji:"üõèÔ∏è",res:[]},
 {cat:"Quarto",name:"Travesseiros",qty:2,emoji:"üõå",res:[]},
 {cat:"Quarto",name:"Jogo de fronha",qty:1,emoji:"üõå",res:[]},
 {cat:"Quarto",name:"Manta microfibra casal",qty:1,emoji:"üß£",res:[]},
 {cat:"Quarto",name:"Tapete passadeira peludo",qty:1,emoji:"üß∏",res:[]},

 {cat:"√Årea",name:"Baldes",qty:2,emoji:"ü™£",res:[]},
 {cat:"√Årea",name:"Panos de ch√£o",qty:3,emoji:"üßπ",res:[]},
 {cat:"√Årea",name:"Kit limpeza",qty:1,emoji:"üßΩ",res:[]},
 {cat:"√Årea",name:"Caixas organizadora",qty:2,emoji:"üì¶",res:[]},
 {cat:"√Årea",name:"Escova de lavar roupa",qty:1,emoji:"üßº",res:[]},
 {cat:"√Årea",name:"Prendedor",qty:20,emoji:"ü™¢",res:[]},
 {cat:"√Årea",name:"Varal de roupa √≠ntima",qty:1,emoji:"üëô",res:[]},
 {cat:"√Årea",name:"3 Cadeira de abrir",qty:3,emoji:"üí∫",res:[]},
 {cat:"√Årea",name:"Ferro de passar roupa",qty:1,emoji:"üöÄ",res:[]},
 {cat:"√Årea",name:"Mobi de limpeza",qty:1,emoji:"üßº",res:[]},
];

function render(){
 const box=document.getElementById("items");
 box.innerHTML="";
 items.forEach((it,i)=>{
   const card=document.createElement("div"); card.className="card";
   card.innerHTML=`<div class='emojiBox'>${it.emoji}</div>
   <h3>${it.name}</h3>
   <p class='qty'>${it.res.length}/${it.qty}</p>
   <p>${it.res.map(r=>"‚Ä¢ "+r.name).join("<br>")}</p>`;
   card.onclick=()=>openReserve(i);
   if(admin){
     const ctr=document.createElement("div"); ctr.className="adminControls";
     ctr.innerHTML=`<button class='adminBtn' onclick='event.stopPropagation();changeQty(${i},1)'>+</button>
                    <button class='adminBtn' onclick='event.stopPropagation();changeQty(${i},-1)'>-</button>`;
     card.appendChild(ctr);
   }
   box.appendChild(card);
 });
}

function sendTG(msg){
 fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`,{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({chat_id:TELEGRAM_CHAT_ID,text:msg})
 });
}

function doLogin(){
 let u=document.getElementById("loginUser").value;
 let p=document.getElementById("loginPass").value;
 if(u==="jvpacheco845" && p==="22demaio"){ admin=true; alert("Logado!"); document.getElementById("loginModal").style.display="none"; render(); }
}

document.getElementById("loginBtn").onclick=()=>{
 document.getElementById("loginModal").style.display="flex";
};

function openReserve(i){ currentItem=i; document.getElementById("reserveTitle").innerText=items[i].name; document.getElementById("reserveModal").style.display="flex"; }

function confirmReserve(){
 let n=document.getElementById("resName").value;
 let t=document.getElementById("resTel").value;
 let e=document.getElementById("resEnd").value;
 if(!n) return;
 let it=items[currentItem];
 if(it.res.length < it.qty){ it.res.push({name:n,tel:t,end:e}); sendTG(`Reserva: ${n} reservou **${it.name}**`); }
 document.getElementById("reserveModal").style.display="none";
 render();
}

function changeQty(i,delta){
 let it=items[i];
 if(delta>0){ it.qty+=1; if(it.res.length>it.qty){ let r=it.res.pop(); sendTG(`Removido por ajuste: ${r.name} de ${it.name}`); } }
 else if(delta<0 && it.qty>1){ it.qty-=1; if(it.res.length>it.qty){ let r=it.res.pop(); sendTG(`Removido por diminui√ß√£o: ${r.name} de ${it.name}`);} }
 sendTG(`Admin ajustou ${it.name}: nova quantidade ${it.qty}`);
 render();
}

setTimeout(()=>{ document.getElementById("splash").style.display="none"; render(); },5000);
</script>
</body>
</html>
