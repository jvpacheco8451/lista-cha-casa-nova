<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ch√° de Casa Nova - Andrielle</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{--pink-1:#ff2d92;--pink-2:#ff6db7;--bg:#fff6fb;--card:#ffffff;--muted:#9b9b9b}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(180deg,#fff0f7 0%, #fff6fb 35%, #fff 100%);color:#222}
    /* SPLASH */
    .splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#000000,#1c1c1c);z-index:9999;flex-direction:column}
    .splash .logo-spin{width:200px;height:200px;border-radius:20px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#000;box-shadow:0 30px 80px rgba(0,0,0,0.6)}
    .splash img{width:140px;height:140px;border-radius:50%;object-fit:cover;animation:logoSpin 1.1s cubic-bezier(.2,.9,.3,1) infinite}
    @keyframes logoSpin{0%{transform:rotateY(0) scale(1)}50%{transform:rotateY(180deg) scale(1.05)}100%{transform:rotateY(360deg) scale(1)}}
    .splash h2{color:white;margin-top:18px;font-size:20px;letter-spacing:2px}
    /* Header */
    header{position:relative;padding:18px 22px;background:linear-gradient(135deg,var(--pink-1),var(--pink-2));color:white;border-bottom-left-radius:20px;border-bottom-right-radius:20px;box-shadow:0 8px 30px rgba(0,0,0,0.12)}
    .header-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo-small{width:64px;height:64px;border-radius:12px;object-fit:cover;border:3px solid rgba(255,255,255,.95)}
    .title{font-size:18px;font-weight:700}
    .subtitle{font-size:13px;opacity:.95}
    .login-btn{position:absolute;top:14px;right:14px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.12);padding:8px 10px;border-radius:8px;color:white;font-weight:700;cursor:pointer}
    .admin-indicator{margin-left:10px;background:rgba(255,255,255,.12);padding:6px 10px;border-radius:999px;font-weight:700}
    main{max-width:1100px;margin:26px auto;padding:18px}
    .topbar{display:flex;gap:12px;align-items:center;margin-bottom:14px}
    .search{flex:1;padding:12px;border-radius:12px;border:1px solid #ffd6ec}
    .total-pill{background:linear-gradient(90deg,var(--pink-1),var(--pink-2));color:white;padding:8px 12px;border-radius:999px;font-weight:700}
    .cat-title{color:var(--pink-1);font-size:20px;margin:16px 0}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:12px}
    .card{display:flex;gap:12px;align-items:center;background:var(--card);padding:14px;border-radius:12px;border:1px solid #ffeaf4;box-shadow:0 12px 40px rgba(17,12,12,0.03);cursor:pointer;transition:transform .14s}
    .card:hover{transform:translateY(-6px)}
    .emoji-square{width:72px;height:72px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:34px;background:linear-gradient(180deg,#fff5fb,#ffdff0);border:1px solid rgba(0,0,0,0.03)}
    .thumb-img{width:72px;height:72px;border-radius:12px;object-fit:cover;border:1px solid #eee}
    .card-body{flex:1}
    .item-name{font-weight:700;font-size:16px}
    .reserved-by{font-size:13px;color:#555;margin-top:6px;min-height:18px;word-break:break-word}
    .qty-area{text-align:right}
    .qty-badge{background:linear-gradient(135deg,#4caf50,#00b300);color:white;padding:8px 12px;border-radius:10px;font-weight:800;display:inline-block}
    .esgotado{color:#ff2d55;font-weight:800;margin-top:6px}
    .admin-controls{display:flex;gap:6px;align-items:center;margin-top:8px}
    .btn-mini{border:none;padding:6px 8px;border-radius:8px;background:#fff;color:#333;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .add-item-btn{background:white;color:var(--pink-1);border-radius:12px;padding:8px 12px;border:none;cursor:pointer;font-weight:800}
    .modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:999}
    .modal{width:92%;max-width:520px;background:white;border-radius:12px;padding:18px}
    input,textarea,select{width:100%;padding:12px;border-radius:10px;border:1px solid #eee;margin-top:8px}
    .actions{display:flex;gap:8px;margin-top:12px}
    .primary{background:var(--pink-1);color:white;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .ghost{background:#f3f3f3;padding:10px;border-radius:10px;border:none;cursor:pointer}
    footer{max-width:1100px;margin:26px auto;text-align:center;color:#666;font-size:13px}
    @media(max-width:640px){.grid{grid-template-columns:1fr}.emoji-square{width:60px;height:60px}}
  </style>
</head>
<body>

<!-- SPLASH ANIMATION -->
<div id="splash" class="splash">
  <div class="logo-spin"><img src="logo.png" alt="logo"></div>
  <h2>Andrielle ‚Äî Ch√° de Casa Nova</h2>
</div>

<header>
  <div class="header-inner">
    <div class="brand">
      <img src="logo.png" class="logo-small" alt="logo">
      <div>
        <div class="title">Andrielle</div>
        <div class="subtitle">Ch√° de Casa Nova ‚Äî Lista Oficial</div>
      </div>
    </div>
    <div>
      <button id="loginBtn" class="login-btn">Login</button>
      <span id="adminTag" class="admin-indicator" style="display:none">Administrador</span>
    </div>
  </div>
</header>

<main>
  <div class="topbar">
    <input id="search" class="search" placeholder="Pesquisar item ou categoria..." oninput="searchItem()">
    <div class="total-pill">Itens Totais: <span id="totalCount">0</span></div>
    <button id="addItemBtn" class="add-item-btn" style="display:none">+ Adicionar item</button>
  </div>

  <div id="lists"></div>
</main>

<!-- MODALS -->
<div id="loginModal" class="modal-bg">
  <div class="modal">
    <h3>Login</h3>
    <input id="loginUser" placeholder="Usu√°rio">
    <input id="loginPass" placeholder="Senha" type="password">
    <div class="actions">
      <button class="primary" id="doLogin">Entrar</button>
      <button class="ghost" id="cancelLogin">Cancelar</button>
    </div>
    <p style="font-size:12px;margin-top:8px;color:#666">A senha n√£o √© exibida por seguran√ßa.</p>
  </div>
</div>

<div id="reserveModal" class="modal-bg">
  <div class="modal">
    <h3 id="reserveTitle">Reservar</h3>
    <div>Dispon√≠vel: <span id="reserveQty">0</span></div>
    <input id="resNome" placeholder="Seu nome (obrigat√≥rio)">
    <input id="resTel" placeholder="Telefone (obrigat√≥rio)">
    <input id="resEnd" placeholder="Endere√ßo (obrigat√≥rio)">
    <div class="actions">
      <button class="primary" id="confirmReserve">Concluir reserva</button>
      <button class="ghost" id="cancelReserve">Cancelar</button>
    </div>
  </div>
</div>

<div id="addModal" class="modal-bg">
  <div class="modal">
    <h3>Adicionar item</h3>
    <input id="newName" placeholder="Nome do item">
    <input id="newCat" placeholder="Categoria (Cozinha, Banheiro, Quarto, √Årea de Servi√ßo)">
    <input id="newQty" placeholder="Quantidade (n√∫mero)" type="number">
    <input id="newEmoji" placeholder="Emoji (ex: ü•õ)">
    <div class="actions">
      <button class="primary" id="addConfirm">Adicionar</button>
      <button class="ghost" id="addCancel">Cancelar</button>
    </div>
  </div>
</div>

<footer>Design Verifique os itens antes de Selecionar em caso de duvida entre em Contato com a ADM ‚Äî Andrielle Telles</footer>

<!-- Aqui vamos injetar o Firebase + sincroniza√ß√£o das reservas -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>

<script>
  // ------------------ CONFIGURA√á√ÉO FIREBASE ------------------
  const firebaseConfig = {
    apiKey: "AIzaSyCFUGsfEfSduhEzfTYloCwcn7Fvll6phpg",
    authDomain: "cha-casa-nova-ab339.firebaseapp.com",
    databaseURL: "https://cha-casa-nova-ab339-default-rtdb.firebaseio.com",
    projectId: "cha-casa-nova-ab339",
    storageBucket: "cha-casa-nova-ab339.appspot.com",
    messagingSenderId: "829057167454",
    appId: "1:829057167454:web:5a356353b3c413d1fc84cf"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const auth = firebase.auth();

  // ------------------ Autenticar anonimamente ------------------
  auth.signInAnonymously().catch(error => {
    console.error("Erro ao autenticar:", error);
  });

  // ------------------ Carregar estado inicial do Firebase ------------------
  const items = [
    // COZINHA
    {cat:'Cozinha', name:'Jogo de copo', qty:1, emoji:'ü•õ'},
    {cat:'Cozinha', name:'Jogo de talher (preto ou rose)', qty:1, emoji:'üç¥'},
    {cat:'Cozinha', name:'Toalha de mesa', qty:1, emoji:'üçΩÔ∏è'},
    {cat:'Cozinha', name:'Pano de prato', qty:1, emoji:'üßΩ'},
    {cat:'Cozinha', name:'Kit pia (preto ou rose)', qty:1, emoji:'üö∞'},
    {cat:'Cozinha', name:'Lixeira de cozinha (preta)', qty:1, emoji:'üóëÔ∏è'},
    {cat:'Cozinha', name:'Panela grande', qty:1, emoji:'üç≤'},
    {cat:'Cozinha', name:'Panela m√©dia', qty:1, emoji:'üç≤'},
    {cat:'Cozinha', name:'Panela pequena', qty:1, emoji:'üç≤'},
    {cat:'Cozinha', name:'Kit peneiras', qty:1, emoji:'ü•£'},
    {cat:'Cozinha', name:'Kit potes (preto, branco, rose)', qty:3, emoji:'ü´ô'},
    {cat:'Cozinha', name:'Porta temperos', qty:1, emoji:'üå∂Ô∏è'},
    {cat:'Cozinha', name:'Jarra el√©trica (preta)', qty:1, emoji:'‚ö°‚òï'},
    {cat:'Cozinha', name:'Panela de press√£o (alum√≠nio ou preta)', qty:1, emoji:'üî•'},
    {cat:'Cozinha', name:'T√°bua de carne', qty:1, emoji:'üî™'},
    {cat:'Cozinha', name:'Kit mantimentos', qty:1, emoji:'üç±'},
    {cat:'Cozinha', name:'Tigelas de sobremesa (vidro)', qty:1, emoji:'üçß'},
    {cat:'Cozinha', name:'Puxa saco', qty:1, emoji:'üõçÔ∏è'},
    {cat:'Cozinha', name:'Pratos fundo (branco)', qty:1, emoji:'üçΩÔ∏è'},
    {cat:'Cozinha', name:'Forma de alum√≠nio', qty:1, emoji:'üç∞'},
    {cat:'Cozinha', name:'Forma de pudim', qty:1, emoji:'üçÆ'},
    {cat:'Cozinha', name:'Canecas', qty:1, emoji:'‚òï'},
    {cat:'Cozinha', name:'Fervedor (preto, rose ou alum√≠nio)', qty:1, emoji:'üî•'},
    // BANHEIRO
    {cat:'Banheiro', name:'Toalha de rosto', qty:1, emoji:'üßª'},
    {cat:'Banheiro', name:'Toalha de banho', qty:1, emoji:'üßº'},
    {cat:'Banheiro', name:'Cortina para box', qty:1, emoji:'üöø'},
    {cat:'Banheiro', name:'Kit tapete de banheiro (preto ou rose)', qty:1, emoji:'üöª'},
    {cat:'Banheiro', name:'Cesto de roupa (preto ou branco)', qty:1, emoji:'üß∫'},
    // QUARTO
    {cat:'Quarto', name:'Jogo de len√ßol casal', qty:1, emoji:'üõèÔ∏è'},
    {cat:'Quarto', name:'Travesseiros', qty:1, emoji:'üí§'},
    {cat:'Quarto', name:'Jogo de fronha', qty:1, emoji:'üõå'},
    {cat:'Quarto', name:'Manta microfibra casal', qty:1, emoji:'üß£'},
    {cat:'Quarto', name:'Tapete passadeira peludo', qty:1, emoji:'üêë'},
    // AREA DE SERVI√áO
    {cat:'√Årea de Servi√ßo', name:'Baldes', qty:1, emoji:'ü™£'},
    {cat:'√Årea de Servi√ßo', name:'Panos de ch√£o', qty:1, emoji:'üßΩ'},
    {cat:'√Årea de Servi√ßo', name:'Kit limpeza (vassoura, rodo e p√°)', qty:1, emoji:'üßπ'},
    {cat:'√Årea de Servi√ßo', name:'Caixas organizadora', qty:1, emoji:'üì¶'},
    {cat:'√Årea de Servi√ßo', name:'Escova de lavar roupa', qty:1, emoji:'üßº'},
    {cat:'√Årea de Servi√ßo', name:'Prendedor', qty:1, emoji:'üß∑'},
    {cat:'√Årea de Servi√ßo', name:'Varal de roupa √≠ntima', qty:1, emoji:'üëô'},
    {cat:'√Årea de Servi√ßo', name:'Cadeira de abrir', qty:3, emoji:'ü™ë'},
    {cat:'√Årea de Servi√ßo', name:'Ferro de passar roupa', qty:1, emoji:'üß∫'},
    {cat:'√Årea de Servi√ßo', name:'Mobi de limpeza', qty:1, emoji:'üßπ'}
  ];

  // ------------------ Fun√ß√µes de Estado ------------------
  function loadStateFromFirebase(cb) {
    db.ref('state').once('value').then(snapshot => {
      const val = snapshot.val();
      if (val) {
        cb(val);
      } else {
        // Se n√£o h√° state no Firebase, inicializa usando localStorage
        const raw = localStorage.getItem('andrielle_v4_state');
        if (raw) {
          const parsed = JSON.parse(raw);
          cb(parsed);
          // tamb√©m salva no Firebase para persistir
          db.ref('state').set(parsed);
        } else {
          // Cria estado vazio pela primeira vez
          const init = {};
          items.forEach(it => init[it.name] = { reserved: 0, people: [] });
          cb(init);
          db.ref('state').set(init);
        }
      }
    });
  }

  function saveStateToFirebase(stateObj) {
    db.ref('state').set(stateObj);
  }

  // ------------------ Estado local ------------------
  let state = {};
  loadStateFromFirebase(loaded => {
    state = loaded;
    render();
  });

  function saveStateLocally() {
    localStorage.setItem('andrielle_v4_state', JSON.stringify(state));
  }

  // ------------------ RENDER (mantido) ------------------
  function render(filterList) {
    const container = document.getElementById('lists'); container.innerHTML = '';
    const list = filterList || items;
    let currentCat = '';
    let total = 0; items.forEach(i => total += i.qty);
    document.getElementById('totalCount').textContent = total;
    list.forEach(it => {
      if (it.cat !== currentCat) {
        currentCat = it.cat;
        const h = document.createElement('div'); h.className = 'cat-title'; h.textContent = currentCat;
        container.appendChild(h);
      }
      const st = state[it.name] || { reserved: 0, people: [] };
      st.reserved = Math.min(it.qty, st.people.length);
      const remain = it.qty - st.reserved;
      const card = document.createElement('div'); card.className = 'card';
      let left;
      if (it.img) {
        left = document.createElement('img'); left.className = 'thumb-img'; left.src = it.img; left.alt = it.name;
      } else {
        left = document.createElement('div'); left.className = 'emoji-square'; left.textContent = it.emoji || 'üéÅ';
      }
      card.appendChild(left);
      const body = document.createElement('div'); body.className = 'card-body';
      const nm = document.createElement('div'); nm.className = 'item-name'; nm.textContent = it.name; body.appendChild(nm);
      const rb = document.createElement('div'); rb.className = 'reserved-by'; rb.textContent = st.people.length ? ('Reservado por: ' + st.people.join(', ')) : 'Ningu√©m ainda'; body.appendChild(rb);
      card.appendChild(body);
      const right = document.createElement('div'); right.className = 'qty-area';
      const qb = document.createElement('div'); qb.className = 'qty-badge'; qb.textContent = st.reserved + '/' + it.qty; right.appendChild(qb);
      if (st.reserved >= it.qty) {
        const es = document.createElement('div'); es.className = 'esgotado'; es.textContent = 'ESGOTADO'; right.appendChild(es);
      }
      if (isAdmin) {
        const ac = document.createElement('div'); ac.className = 'admin-controls';
        const btnMinus = document.createElement('button'); btnMinus.className = 'btn-mini'; btnMinus.textContent = '-';
        btnMinus.onclick = (e) => { e.stopPropagation(); adjustQty(it.name, -1); };
        const btnPlus = document.createElement('button'); btnPlus.className = 'btn-mini'; btnPlus.textContent = '+';
        btnPlus.onclick = (e) => { e.stopPropagation(); adjustQty(it.name, 1); };
        ac.appendChild(btnMinus); ac.appendChild(btnPlus);
        right.appendChild(ac);
      }
      card.appendChild(right);
      card.onclick = () => { if (it.qty - st.reserved > 0) openReserve(it.name); else alert('Item esgotado'); };
      container.appendChild(card);
    });
  }

  // ------------------ Search (mantido) ------------------
  function searchItem() {
    const term = document.getElementById('search').value.trim().toLowerCase();
    if (!term) { render(); return; }
    const filtered = items.filter(i => i.name.toLowerCase().includes(term) || i.cat.toLowerCase().includes(term));
    render(filtered);
  }

  // ------------------ Reserva ------------------
  let currentItem = null;
  function openReserve(name) {
    currentItem = name;
    const it = items.find(i => i.name === name);
    const st = state[name] || { reserved: 0, people: [] };
    document.getElementById('reserveTitle').textContent = 'Reservar: ' + name;
    document.getElementById('reserveQty').textContent = (it.qty - st.reserved);
    document.getElementById('resNome').value = ''; document.getElementById('resTel').value = ''; document.getElementById('resEnd').value = '';
    document.getElementById('reserveModal').style.display = 'flex';
  }
  document.getElementById('cancelReserve').addEventListener('click', () => document.getElementById('reserveModal').style.display = 'none');
  document.getElementById('confirmReserve').addEventListener('click', () => {
    const nome = document.getElementById('resNome').value.trim();
    const tel = document.getElementById('resTel').value.trim();
    const end = document.getElementById('resEnd').value.trim();
    if (!nome || !tel || !end) { alert('Preencha todos os campos'); return; }
    const it = items.find(i => i.name === currentItem);
    const st = state[currentItem];
    if (!it) { alert('Item inv√°lido'); return; }
    const remain = it.qty - st.reserved;
    if (remain <= 0) { alert('Item esgotado'); return; }
    st.people.push(nome);
    st.reserved = Math.min(it.qty, st.reserved + 1);
    saveStateToFirebase(state);
    saveStateLocally();
    sendTelegram(`üì¶ *Nova Reserva*\\n\\n*Nome:* ${nome}\\n*Telefone:* ${tel}\\n*Endere√ßo:* ${end}\\n*Item:* ${currentItem}`);
    document.getElementById('reserveModal').style.display = 'none';
    render();
  });

  // ------------------ Ajuste de quantidade (admin) ------------------
  function adjustQty(name, delta) {
    if (!isAdmin) { alert('Apenas administrador pode alterar quantidades'); return; }
    const it = items.find(i => i.name === name);
    if (!it) return;
    const oldQty = it.qty;
    const newQty = Math.max(0, it.qty + delta);
    it.qty = newQty;
    const st = state[name] || { reserved: 0, people: [] };
    if (st.people.length > newQty) {
      const removed = [];
      while (st.people.length > newQty) {
        const removedName = st.people.pop();
        removed.push(removedName);
        st.reserved = Math.max(0, st.reserved - 1);
      }
      saveStateToFirebase(state);
      saveStateLocally();
      render();
      removed.forEach(r => {
        sendTelegram(`‚ö†Ô∏è *Reserva removida*\\n\\n*Pessoa removida:* ${r}\\n*Item:* ${name}\\n*Motivo:* Quantidade reduzida pelo administrador`);
      });
      sendTelegram(`üîß *Quantidade alterada*\\n\\n*Item:* ${name}\\n*Quantidade antiga:* ${oldQty}\\n*Quantidade nova:* ${newQty}`);
      return;
    } else {
      saveStateToFirebase(state);
      saveStateLocally();
      render();
      sendTelegram(`üîß *Quantidade alterada*\\n\\n*Item:* ${name}\\n*Quantidade antiga:* ${oldQty}\\n*Quantidade nova:* ${newQty}`);
    }
  }

  // ------------------ Login / Admin (mantido) ------------------
  const ADMIN_USER = 'jvpacheco845';
  const ADMIN_PASS = '22demaio';
  let isAdmin = false;

  document.getElementById('loginBtn').addEventListener('click', () => {
    document.getElementById('loginModal').style.display = 'flex';
    document.getElementById('loginUser').value = '';
    document.getElementById('loginPass').value = '';
  });
  document.getElementById('cancelLogin').addEventListener('click', () => document.getElementById('loginModal').style.display = 'none');
  document.getElementById('doLogin').addEventListener('click', () => {
    const u = document.getElementById('loginUser').value.trim();
    const p = document.getElementById('loginPass').value.trim();
    if (u === ADMIN_USER && p === ADMIN_PASS) {
      isAdmin = true;
      sessionStorage.setItem('andrielle_admin', '1');
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('adminTag').style.display = 'inline-block';
      document.getElementById('addItemBtn').style.display = 'inline-block';
      document.getElementById('loginBtn').style.display = 'none';
      render();
      alert('Login efetuado ‚Äî privil√©gios de administrador ativados.');
    } else {
      alert('Credenciais inv√°lidas');
    }
  });

  // ------------------ Adicionar item (admin) ------------------
  document.getElementById('addItemBtn').addEventListener('click', () => {
    document.getElementById('addModal').style.display = 'flex';
    document.getElementById('newName').value = '';
    document.getElementById('newCat').value = '';
    document.getElementById('newQty').value = '1';
    document.getElementById('newEmoji').value = 'üéÅ';
  });
  document.getElementById('addCancel').addEventListener('click', () => document.getElementById('addModal').style.display = 'none');
  document.getElementById('addConfirm').addEventListener('click', () => {
    if (!isAdmin) { alert('Apenas administrador pode adicionar itens'); return; }
    const name = document.getElementById('newName').value.trim();
    const cat = document.getElementById('newCat').value.trim() || 'Outros';
    const qty = Math.max(0, parseInt(document.getElementById('newQty').value) || 1);
    const emoji = document.getElementById('newEmoji').value.trim() || 'üéÅ';
    if (!name) { alert('Informe o nome do item'); return; }
    items.push({ cat, name, qty, emoji });
    state[name] = { reserved: 0, people: [] };
    saveStateToFirebase(state);
    saveStateLocally();
    document.getElementById('addModal').style.display = 'none';
    render();
    sendTelegram(`üÜï *Item adicionado:* ${name}\\n*Categoria:* ${cat}\\n*Quantidade:* ${qty}`);
  });

  // ------------------ Enviar Telegram (mantido) ------------------
  const TELEGRAM_TOKEN = '8559140827:AAHxA4d-MvDH-BanHYymnK2UKLRWM3KJrec';
  const TELEGRAM_CHAT_ID = '-1003451773752';
  async function sendTelegram(message) {
    try {
      await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message, parse_mode: 'Markdown' })
      });
    } catch (e) {
      console.warn('Erro ao enviar telegram:', e);
    }
  }

  // ------------------ Modal close by clicking backdrop ------------------
  ['loginModal', 'reserveModal', 'addModal'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.addEventListener('click', (e) => { if (e.target === el) el.style.display = 'none'; });
  });

</script>
</body>
</html>
